[gd_scene load_steps=9 format=2]

[ext_resource path="res://GameRoot.cs" type="Script" id=1]
[ext_resource path="res://BasicScenes/StaticCube.tscn" type="PackedScene" id=2]
[ext_resource path="res://BasicScenes/MapObjects/Paintball/Tetra.glb" type="PackedScene" id=3]
[ext_resource path="res://addons/PurePeerSignaling/Networking.tscn" type="PackedScene" id=4]
[ext_resource path="res://BasicScenes/GUI/NetworkingTab.cs" type="Script" id=5]
[ext_resource path="res://SpawnManager.cs" type="Script" id=6]
[ext_resource path="res://BasicScenes/MapObjects/Paintball/Obelisk.glb" type="PackedScene" id=7]
[ext_resource path="res://BasicScenes/GameModes/TDM.tscn" type="PackedScene" id=8]

[node name="GameRoot" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4.85941 )
script = ExtResource( 1 )

[node name="TDMManager" parent="." instance=ExtResource( 8 )]

[node name="MainMenu" type="CenterContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 5.70001
margin_top = 0.950012
margin_right = 5.69995
margin_bottom = 0.950012
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TabContainer" type="TabContainer" parent="MainMenu"]
margin_left = 211.0
margin_top = 50.0
margin_right = 811.0
margin_bottom = 550.0
rect_min_size = Vector2( 600, 500 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Networking" type="CenterContainer" parent="MainMenu/TabContainer"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0
script = ExtResource( 5 )

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenu/TabContainer/Networking"]
margin_left = 71.0
margin_top = 82.0
margin_right = 521.0
margin_bottom = 382.0
rect_min_size = Vector2( 450, 300 )

[node name="Host URL" type="HBoxContainer" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_right = 450.0
margin_bottom = 24.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/Networking/VBoxContainer/Host URL"]
margin_right = 223.0
margin_bottom = 24.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Host URL"
valign = 1

[node name="LineEdit" type="LineEdit" parent="MainMenu/TabContainer/Networking/VBoxContainer/Host URL"]
margin_left = 227.0
margin_right = 450.0
margin_bottom = 24.0
size_flags_horizontal = 3
text = "ws://192.168.1.143:3476"

[node name="Secret" type="HBoxContainer" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_top = 28.0
margin_right = 450.0
margin_bottom = 52.0
size_flags_horizontal = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/Networking/VBoxContainer/Secret"]
margin_right = 223.0
margin_bottom = 24.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Password"
valign = 1

[node name="LineEdit" type="LineEdit" parent="MainMenu/TabContainer/Networking/VBoxContainer/Secret"]
margin_left = 227.0
margin_right = 450.0
margin_bottom = 24.0
size_flags_horizontal = 3
text = "secret"

[node name="Join" type="Button" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_top = 56.0
margin_right = 450.0
margin_bottom = 76.0
text = "Join Game"

[node name="ServerEnabled" type="HBoxContainer" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_top = 80.0
margin_right = 450.0
margin_bottom = 100.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/Networking/VBoxContainer/ServerEnabled"]
margin_right = 221.0
margin_bottom = 14.0
size_flags_horizontal = 3
size_flags_vertical = 0
size_flags_stretch_ratio = 2.0
text = "Handshake Server"
valign = 1

[node name="Start" type="Button" parent="MainMenu/TabContainer/Networking/VBoxContainer/ServerEnabled"]
margin_left = 225.0
margin_right = 335.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Start"

[node name="Stop" type="Button" parent="MainMenu/TabContainer/Networking/VBoxContainer/ServerEnabled"]
margin_left = 339.0
margin_right = 450.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Stop"

[node name="Refresh" type="Button" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_top = 104.0
margin_right = 450.0
margin_bottom = 124.0
text = "Refresh"

[node name="ScrollContainer" type="ScrollContainer" parent="MainMenu/TabContainer/Networking/VBoxContainer"]
margin_top = 128.0
margin_right = 450.0
margin_bottom = 300.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="PeerList" type="ItemList" parent="MainMenu/TabContainer/Networking/VBoxContainer/ScrollContainer"]
margin_right = 450.0
margin_bottom = 172.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="TDM" type="CenterContainer" parent="MainMenu/TabContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0
script = ExtResource( 5 )

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenu/TabContainer/TDM"]
margin_left = 71.0
margin_top = 82.0
margin_right = 521.0
margin_bottom = 382.0
rect_min_size = Vector2( 450, 300 )

[node name="Team choice" type="HBoxContainer" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_right = 450.0
margin_bottom = 20.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/TDM/VBoxContainer/Team choice"]
margin_right = 223.0
margin_bottom = 20.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Host URL"
valign = 1

[node name="Option" type="OptionButton" parent="MainMenu/TabContainer/TDM/VBoxContainer/Team choice"]
margin_left = 227.0
margin_right = 450.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Test button"

[node name="Secret" type="HBoxContainer" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_top = 24.0
margin_right = 450.0
margin_bottom = 48.0
size_flags_horizontal = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/TDM/VBoxContainer/Secret"]
margin_right = 223.0
margin_bottom = 24.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Password"
valign = 1

[node name="LineEdit" type="LineEdit" parent="MainMenu/TabContainer/TDM/VBoxContainer/Secret"]
margin_left = 227.0
margin_right = 450.0
margin_bottom = 24.0
size_flags_horizontal = 3
text = "secret"

[node name="Join" type="Button" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_top = 52.0
margin_right = 450.0
margin_bottom = 72.0
text = "Join Game"

[node name="ServerEnabled" type="HBoxContainer" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_top = 76.0
margin_right = 450.0
margin_bottom = 96.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="MainMenu/TabContainer/TDM/VBoxContainer/ServerEnabled"]
margin_right = 221.0
margin_bottom = 14.0
size_flags_horizontal = 3
size_flags_vertical = 0
size_flags_stretch_ratio = 2.0
text = "Handshake Server"
valign = 1

[node name="Start" type="Button" parent="MainMenu/TabContainer/TDM/VBoxContainer/ServerEnabled"]
margin_left = 225.0
margin_right = 335.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Start"

[node name="Stop" type="Button" parent="MainMenu/TabContainer/TDM/VBoxContainer/ServerEnabled"]
margin_left = 339.0
margin_right = 450.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Stop"

[node name="Refresh" type="Button" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_top = 100.0
margin_right = 450.0
margin_bottom = 120.0
text = "Refresh"

[node name="ScrollContainer" type="ScrollContainer" parent="MainMenu/TabContainer/TDM/VBoxContainer"]
margin_top = 124.0
margin_right = 450.0
margin_bottom = 300.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="PeerList" type="ItemList" parent="MainMenu/TabContainer/TDM/VBoxContainer/ScrollContainer"]
margin_right = 450.0
margin_bottom = 176.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Networking" parent="." instance=ExtResource( 4 )]

[node name="Players" type="Node" parent="."]
script = ExtResource( 6 )
__meta__ = {
"_editor_description_": "A place to organize all the players."
}

[node name="Projectiles" type="Node" parent="."]
script = ExtResource( 6 )
__meta__ = {
"_editor_description_": "Just a place to organize all projectiles if we want to look at them when debugging."
}

[node name="Map" type="Spatial" parent="."]

[node name="Floor" parent="Map" instance=ExtResource( 2 )]
transform = Transform( 10, 0, 0, 0, 0.1, 0, 0, 0, 10, 0, 0, 0 )

[node name="Tetra" parent="Map" instance=ExtResource( 3 )]
transform = Transform( 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, -4.38383 )

[node name="Obelisk" parent="Map" instance=ExtResource( 7 )]
transform = Transform( 2, 0, 0, 0, 2, 0, 0, 0, 2, 5.14684, 0, 0 )

[node name="DirectionalLight" type="DirectionalLight" parent="Map"]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 4.60879, 0 )
[connection signal="text_changed" from="MainMenu/TabContainer/Networking/VBoxContainer/Host URL/LineEdit" to="." method="_SetURL"]
[connection signal="text_changed" from="MainMenu/TabContainer/Networking/VBoxContainer/Secret/LineEdit" to="Networking" method="_SetSecret"]
[connection signal="pressed" from="MainMenu/TabContainer/Networking/VBoxContainer/Join" to="Networking" method="_JoinMesh"]
[connection signal="pressed" from="MainMenu/TabContainer/Networking/VBoxContainer/ServerEnabled/Start" to="Networking" method="_StartServer"]
[connection signal="pressed" from="MainMenu/TabContainer/Networking/VBoxContainer/ServerEnabled/Stop" to="Networking" method="_StopServer"]
[connection signal="pressed" from="MainMenu/TabContainer/Networking/VBoxContainer/Refresh" to="MainMenu/TabContainer/Networking" method="_DisplayPeers"]
[connection signal="text_changed" from="MainMenu/TabContainer/TDM/VBoxContainer/Secret/LineEdit" to="Networking" method="_SetSecret"]
[connection signal="pressed" from="MainMenu/TabContainer/TDM/VBoxContainer/Join" to="Networking" method="_JoinMesh"]
[connection signal="pressed" from="MainMenu/TabContainer/TDM/VBoxContainer/ServerEnabled/Start" to="Networking" method="_StartServer"]
[connection signal="pressed" from="MainMenu/TabContainer/TDM/VBoxContainer/ServerEnabled/Stop" to="Networking" method="_StopServer"]
[connection signal="pressed" from="MainMenu/TabContainer/TDM/VBoxContainer/Refresh" to="MainMenu/TabContainer/TDM" method="_DisplayPeers"]
